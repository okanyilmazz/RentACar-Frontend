<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<div class="payment">
  <form class="payment-info" [formGroup]="paymentAddForm">
    <div class="info-left">
      <div class="left-title">
        <fa-icon [icon]="cardIcon"></fa-icon> <span>Ödeme Bilgileri </span>
      </div>

      <div class="info-content">
        <div class="card-number infos">
          <span> Kart Numarası </span>
          <input type="text" formControlName="cardNumber" (input)="cardNumberLimitCharacterCount($event)" [value]="cardNumber" >
        </div>
        <div class="card-name infos">
          <span> Kart Üzerindeki İsim </span>
          <input  formControlName="cardName" >
        </div>
        <div class="expiration-date infos">
          <span>Son Kullanma Tarihi </span>
          <div>
            <select class="form-select"  formControlName="expirationMonth"    [(ngModel)]="monthBase">
              <option selected>Ay</option>
              <option  *ngFor="let month of months"  [value]="month" (change)="changeExpirationMonth($event)">{{month}}</option>
            </select>
            <select class="form-select" formControlName="expirationYear" [(ngModel)]="yearBase">
              <option selected>Yıl</option>
              <option  *ngFor="let year of years"  [value]="year" (change)="changeExpirationYear($event)" >{{year}}</option>
            </select>
          </div>

        </div>
        <div class="security-code infos">
          <span>Güvenlik Kodu  <fa-icon [icon]="infoIcon" ngbTooltip="Güvenlik kodu, kartın arkasında bulunan 3 haneli rakamdan oluşur" placement="top"> </fa-icon></span>
          <input formControlName="securityCode" type="number" (input)="securityCodeLimitCharacterCount($event)" min="1" max="999">
        </div>
        <div class="mobile-btn">
          <button type="button" (click)="goToOrderConfirmation()" routerLinkActive="active">Devam Et <fa-icon
            [icon]="rightArrowIcon"></fa-icon></button>
        </div>
      </div>



      <div class="info-bottom" >
        <div class="payment-options">
          <span id="title">Taksit Seçenekleri</span>
          <span id="content">Taksit seçenekleri kart bilgileri girildikten sonra görüntülenecektir.</span>
        </div>

        <div class="payment-type">
            <img src="./assets/image/payment-type/maximum.png">
            <img src="./assets/image/payment-type/axess.png">
            <img src="./assets/image/payment-type/bonus.png">
            <img src="./assets/image/payment-type/world.png">
            <img src="./assets/image/payment-type/paypal.png">
        </div>
      </div>
    </div>
    <div class="seperator"></div>
    <div class="info-right" *ngFor="let car of carDetails">
      <div class="title">
        <span>{{car.carName}}</span>
      </div>
      <div class="feature">
        <div class="content">
          <div class="feature-top">
            <div id="icon"><img src="assets/image/icon-fuel.png">
              <span>{{car.fuelType}}</span></div>
            <div>
              <div id="icon"><img src="assets/image/icon-group.png">
                <span>{{car.numberOfPassengers}} Kişi</span></div>
            </div>
            <div>
              <div id="icon"><img src="assets/image/icon-gearbox.png">
                <span>{{car.transmissionType}}</span></div>
            </div>
          </div>
          <div class="feature-bottom">
            <div id="icon"><img src="assets/image/icon-suv.png">
              <span>{{car.bodyType}}</span></div>
            <div>
              <div id="icon"><img src="assets/image/icon-color.png">
                <span>{{car.colorName}}</span></div>
            </div>
            <div>
              <div id="icon"><img src="assets/image/air-conditioner.png">
                <span>{{isExistAirConditioner(car.airConditioning)}}</span></div>
            </div>

          </div>
        </div>
        <div class="car-img">
          <div class="right"> <img [src]="getImagePath(car.carImages[0].imagePath)"> </div>
        </div>
      </div>
      <div class="rental-info">
        <div>
          <div><span id="title">Teslimat Türü </span></div>
          <div><span>:</span></div>
          <div><span>Lorem ipsum</span></div>
        </div>
        <div>
          <div><span id="title">Yaş Gerekliliği</span></div>
          <div><span>:</span></div>
          <div><span>24</span></div>
        </div>
        <div>
          <div><span id="title">Ehliyet Gerekliliği</span></div>
          <div><span>:</span></div>
          <div><span>4 Yıl</span></div>
        </div>
        <div>
          <div><span id="title">Depozito Tutarı</span></div>
          <div><span>:</span></div>
          <div><span>{{car.deposit | currency:"TRY":"₺"}} </span></div>
        </div>
        <div>
          <div><span id="title">KM Sınırı</span></div>
          <div><span>:</span></div>
          <div><span>{{car.kilometerLimit}} KM</span></div>
        </div>
      </div>
      <div class="location mt-3 container-fluid ">
        <div class="rent">
          <div><span id="title">Alış Yeri</span></div>
          <div>
            <div id="seperator-top"></div>
            <div id="seperator-bottom" class="mt-2"></div>
          </div>
          <div class="info">
            <div><span>{{rentalLocationTitle}}</span></div>
            <div><span>{{rentDetail.rentDate}} - {{rentDetail.rentTime}}</span></div>
          </div>
        </div>
        <div class="return ">
          <div><span id="title">Teslim Yeri</span></div>
          <div>
            <div id="seperator-top"></div>
            <div id="seperator-bottom" class="mt-2"></div>
          </div>
          <div class="info">
            <div><span>{{returnLocationTitle}}</span></div>
            <div><span>{{rentDetail.returnDate}} - {{rentDetail.returnTime}}</span></div>
          </div>
        </div>
      </div>
      <div class="rent-day-price mt-3">
        <div>
          <div><span id="title">Kiralama Süresi</span></div>
          <div><span>:</span></div>
          <div><span>{{rentDetail.rentDay}} Gün</span></div>
        </div>
        <div>
          <div><span id="title">Günlük Fiyatı</span></div>
          <div><span>:</span></div>
          <div><span>{{car.dailyPrice | currency:"TRY":"₺"}}</span></div>
        </div>
        <div>
          <div><span id="title">Toplam Fiyat</span></div>
          <div><span>:</span></div>
          <div><span>{{totalPrice(car.dailyPrice) | currency:"TRY":"₺"}}  </span></div>
        </div>
      </div>

      <div class="coupon-code mt-3">
        <form>
            <input type="text" placeholder="Kupon Kodu">
          <div class="coupon-button">
            <button type="button" (click)="checkCouponCode('')">
              <i class="fa-solid fa-check mt-2"></i>
            </button>
          </div>
        </form>
      </div>

      <div class="submit-form mt-3">
        <button type="button" (click)="goToOrderConfirmation()" routerLinkActive="active">Ödemeyi Tamamla <fa-icon
            [icon]="rightArrowIcon"></fa-icon></button>
      </div>
    </div>

  </form>

</div>
